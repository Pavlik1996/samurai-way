{"version":3,"file":"static/js/552.77b57d32.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/Users/users.module.css?9211","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","hoc/witchAuthRedirect.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"users_userPhoto__F2nMI\"};","import React from \"react\";\r\nimport s from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UsersType } from \"../../redux/users-reducer\";\r\n\r\ntype PropsUsersType = {\r\n  follow: (id: number) => void;\r\n  unFollow: (id: number) => void;\r\n  isFollowing: number[];\r\n  user: UsersType\r\n};\r\n\r\nexport const User: React.FC<PropsUsersType> = ({ follow, unFollow, isFollowing, user }) => {\r\n  return (\r\n    <div>\r\n      <div key={user.id} style={{ display: \"flex\" }}>\r\n        <NavLink to={\"/profile/\" + user.id}>\r\n          <img\r\n            alt={\"ava\"}\r\n            className={s.userPhoto}\r\n            src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n          />\r\n        </NavLink>\r\n\r\n        <div>\r\n          {user.followed\r\n            ? <button\r\n              disabled={isFollowing.some((id) => id === user.id)}\r\n              onClick={() => unFollow(user.id)}\r\n            > UnFollow\r\n            </button>\r\n            : <button\r\n              disabled={isFollowing.some((id) => id === user.id)}\r\n              onClick={() => follow(user.id)}\r\n            > Follow\r\n            </button>\r\n          }\r\n        </div>\r\n        {user.name}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport {User} from \"./User\";\r\nimport {Pagination, Select} from '@mui/material'\r\n\r\n\r\ntype PropsUsersType = {\r\n    items: UsersType[];\r\n    pageSize: number;\r\n    totalCount: number;\r\n    follow: (id: number) => void;\r\n    unFollow: (id: number) => void;\r\n    currentPage: number;\r\n    onClickHandlerChangePage: (page: number) => void;\r\n    isFollowing: number[];\r\n};\r\n\r\nexport const Users: React.FC<PropsUsersType> = ({\r\n                                                    items,\r\n                                                    pageSize,\r\n                                                    totalCount,\r\n                                                    follow,\r\n                                                    unFollow,\r\n                                                    currentPage,\r\n                                                    onClickHandlerChangePage,\r\n                                                    isFollowing\r\n                                                }) => {\r\n\r\n\r\n\r\n    const onChangeCallback = (event: any, page: number) => {\r\n        onClickHandlerChangePage(page)\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {/*<Paginagor onClickHandlerChangePage={onClickHandlerChangePage} currentPage={currentPage} />*/}\r\n\r\n            <Pagination\r\n                page={currentPage}\r\n                count={ Math.ceil(totalCount / 10)}\r\n                onChange={onChangeCallback}\r\n                color=\"secondary\"\r\n                boundaryCount={2}\r\n                style={{display: 'flex', justifyContent: 'center'}}\r\n            />\r\n\r\n\r\n            {items.map(user => <User\r\n                follow={follow}\r\n                isFollowing={isFollowing}\r\n                unFollow={unFollow}\r\n                user={user}\r\n                key={user.id}/>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\nconst getItemsSelect = (state: AppStateType) => {\r\n    return state.usersPage.items\r\n}\r\n\r\nexport const getItems = createSelector(getItemsSelect, (items) => items)\r\n\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalCount = (state: AppStateType) => {\r\n    return state.usersPage.totalCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getIsFollowing = (state: AppStateType) => {\r\n    return state.usersPage.isFollowing\r\n}\r\n\r\nexport const getIsAuth = (state: AppStateType) => {\r\n    return state.auth.isAuth\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    toggleIsFollowing,\r\n    unFollow,\r\n    UsersType,\r\n} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport witchAuthRedirect from \"../../hoc/witchAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport { getCurrentPage, getIsAuth, getIsFetching, getIsFollowing, getItems, getPageSize, getTotalCount } from \"../../redux/users-selectors\";\r\n\r\ntype PropsUsersType = mapStateToPropsType & mapStateToDispatchType;\r\n\r\ntype mapStateToPropsType = {\r\n    items: UsersType[];\r\n    pageSize: number;\r\n    totalCount: number;\r\n    currentPage: number;\r\n    isFetching: boolean;\r\n    isFollowing: number[];\r\n    isAuth: boolean;\r\n};\r\n\r\ntype mapStateToDispatchType = {\r\n    follow: (id: number) => void;\r\n    unFollow: (id: number) => void;\r\n    toggleIsFollowing: (isFollowing: boolean, id: number) => void;\r\n    getUsers: (currentPage: number, pageSize: number) => void;\r\n};\r\n\r\nclass UserContainer extends React.Component<PropsUsersType> {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onClickHandlerChangePage = (page: number) => {\r\n        const {currentPage} = this.props\r\n        this.props.getUsers(page, currentPage);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching && <Preloader/>}\r\n                <Users\r\n                    items={this.props.items}\r\n                    pageSize={this.props.pageSize}\r\n                    totalCount={this.props.totalCount}\r\n                    follow={this.props.follow}\r\n                    unFollow={this.props.unFollow}\r\n                    currentPage={this.props.currentPage}\r\n                    onClickHandlerChangePage={this.onClickHandlerChangePage}\r\n                    isFollowing={this.props.isFollowing}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        items: getItems(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowing: getIsFollowing(state),\r\n        isAuth: getIsAuth(state),\r\n    };\r\n};\r\n\r\nexport const UserComponent = compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        toggleIsFollowing,\r\n        getUsers,\r\n    }),\r\n    witchAuthRedirect\r\n)(UserContainer);\r\n","import React, { ComponentType } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AppStateType } from \"../redux/redux-store\";\r\nimport { connect } from \"react-redux\";\r\n\r\ntype RedirectComponentType = {\r\n  isAuth: boolean;\r\n};\r\n\r\nlet mapSTateToPropsForRedirect = (state: AppStateType) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nfunction WitchAuthRedirect(Component: ComponentType<any>) {\r\n  function RedirectComponent(props: RedirectComponentType) {\r\n    const { isAuth, ...restProps } = props;\r\n    if (!props.isAuth) return <Redirect to={\"/login\"} />;\r\n    return <Component {...restProps} />;\r\n  }\r\n\r\n  return connect(mapSTateToPropsForRedirect)(RedirectComponent);\r\n}\r\n\r\nexport default WitchAuthRedirect;\r\n\r\n"],"names":["User","follow","unFollow","isFollowing","user","style","display","to","id","alt","className","s","src","photos","small","userPhoto","followed","disabled","some","onClick","name","Users","items","totalCount","pageSize","currentPage","onClickHandlerChangePage","Pagination","page","count","Math","ceil","onChange","event","color","boundaryCount","justifyContent","map","getItems","createSelector","state","usersPage","getPageSize","getTotalCount","getCurrentPage","getIsFetching","isFetching","getIsFollowing","getIsAuth","auth","isAuth","UserContainer","props","getUsers","this","Preloader","React","UserComponent","compose","connect","toggleIsFollowing","witchAuthRedirect","mapSTateToPropsForRedirect","Component","restProps"],"sourceRoot":""}